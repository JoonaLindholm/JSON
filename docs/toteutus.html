<!DOCTYPE html>
<!-- Tällä kerrotaan selaimelle, että sivu on suomeksi -->
<html lang="fi"> 
<head>
  <!-- Tällä kerrotaan, että merkit (ä, ö, å) näkyvät oikein -->
  <meta charset="UTF-8"> 
  <!-- Sivu skaalautuu mobiililla oikein -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <!-- Nimi joka näkyy selaimen välilehdessä -->
  <title>JSON harjoitus</title> 

  <!-- Bootstrap CSS, tämä tuo valmiit tyylit eli napit, paddingit yms -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap JS Bundle (sis. Popper), tämä hoitaa kaikki interaktiot kuten napit ja valikot -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Pieni oma tyylimuutos -->
  <style>
    /* Kun käytät linkkiä (#vastaus), selain skrollaa sen paikkaan niin että nav-bar ei peitä sisältöä */
    :target { scroll-margin-top: 90px; }
  </style>
</head>
  
<!-- Taustaväri on vaalea, teksti tummalla -->
<body class="bg-light text-dark"> 

  <!-- TÄMÄ ON YLÄVALIKKO (navbar) -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark rounded-5 mx-5 mt-4 mb-4" aria-label="Päävalikko">
    <div class="container">

      <!-- Hampurilaisnappi pienillä näytöillä -->
      <button class="navbar-toggler me-2" type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navigaatio"
              aria-controls="navigaatio"
              aria-expanded="false"
              aria-label="Valikon vaihto">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Itse valikon kohdat -->
      <div class="collapse navbar-collapse" id="navigaatio">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Etusivu (Tehtävä 1 OSA 1)</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Tehtävä 1 OSA II</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="poke-haku-(tehtava-2-osa-i).html">Poke haku (Tehtävä 2 OSA I)</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="tehtava-2-osa-ii.html">Tehtävä 2 OSA II</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="tehtava-3.html">Tehtävä 3</a>
          </li>
        </ul>
      </div>

    </div>
  </nav>

  <!-- TÄMÄ ON PÄÄSISÄLTÖ -->
  <main id="main">
    <!-- Tämä on se kohta, johon JSON-tiedot tulevat -->
    <section class="container pt-5 pb-5" id="vastaus"></section>
  </main>
  
  <script>
  // Tämä hakee tiedot JSON-tiedostosta (tietue1_osa_ii.json)
  fetch('tietue1_osa_ii.json')
    .then(function(response){
      // Muuttaa JSONin javascriptin ymmärtämään muotoon
      return response.json(); 
    })
    .then(function(data){
      // Kutsutaan funktiota joka näyttää tiedot ruudulla
      kerro(data); 
    })
    .catch(function(){
      // Jos jotain menee pieleen, näytetään tämä viesti
      document.getElementById("vastaus").innerHTML = "<p>Tietoa ei pystytä hakemaan</p>";
    });

  // Tämä funktio näyttää tiedot ruudulla
  function kerro(obj){
    // Aloitetaan tyhjästä, tähän kerätään tekstit
    let tiedot = ""; 

    // Otsikko + kuvaus alla
    // Näytetään otsikko
    tiedot += "<h1>" + obj.otsikko + "</h1>"; 
    // Näytetään kuvaus, lihavoituna
    tiedot += "<p><strong>" + obj.kuvaus + "</strong></p>"; 
    // Näytetään osallistujat
    tiedot += "<p><strong>" + obj.osallistujat + "</strong></p>"; 
     // Näytetään aika
    tiedot += "<p><strong>" + obj.aika + "</strong></p>";
    // Näytetään kesto
    tiedot += "<p><strong>" + obj.kesto + "</strong></p>"; 
    // Näytetään kuva, mukautuu ruutuun
    tiedot += "<img src='" + obj.kuva + "' alt='Kurssikuva' class='img-fluid mb-3'>"; 

    // Laitetaan kaikki nämä elementit sivulle siihen kohtaan, jossa on id="vastaus"
    document.getElementById("vastaus").innerHTML = tiedot;
  }
  </script>
  
</body>
</html>
